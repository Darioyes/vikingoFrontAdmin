<div class="cointeinear-modifydirectcost" >
  @defer (when categoryCost() === 'success' ) {
    <div class="cointeinear-modifydirectcost__title">
       <h2>Crear costo indirecto</h2>

    </div>

    <form [formGroup]="inDirectCostFormNew" enctype="multipart/form-data">

      <div class="cointeinear-modifydirectcost__content" >

    <div class="cointeinear-modifydirectcost__content--item">
    <label for="name">Nombre</label>

        <input type="text" id="name" name="name" formControlName="name" >
        @if(name?.errors?.['required'] && name?.touched ){
        <span class="alert text-danger" >La descripción es obligatoria</span>
        }
        @if( name?.errors?.['minlength'] ){
        <span class="alert text-danger" > La descripción debe terner mínimo 10 caracteres </span>
        }
        @if( name?.errors?.['maxlength'] ){
        <span class="alert text-danger" > La descripción debe tener máximo 500 caracteres </span>
        }
    
    </div>


    <div class="cointeinear-modifydirectcost__content--item">
    <label for="name">Descripción</label>

        <textarea id="description" name="description" formControlName="description" ></textarea>
        @if(description?.errors?.['required'] && description?.touched ){
        <span class="alert text-danger" >La descripción es obligatoria</span>
        }
        @if( description?.errors?.['minlength'] ){
        <span class="alert text-danger" > La descripción debe terner mínimo 10 caracteres </span>
        }
        @if( description?.errors?.['maxlength'] ){
        <span class="alert text-danger" > La descripción debe tener máximo 500 caracteres </span>
        }
    
    </div>
        <div class="cointeinear-modifydirectcost__content--item">
        <label for="name">Cantidad</label>
        <input type="number" id="amount" name="amount" formControlName="amount">
         @if(amount?.errors?.['required'] && amount?.touched ){
             <span class="alert text-danger" >La cantidad es obligatoria</span>
           }
           @if( amount?.errors?.['pattern'] ){
             <span class="alert text-danger" >La cantidad debe ser un número válido (ej: 123.45)</span>
           }
           @if( amount?.errors?.['min'] ){
             <span class="alert text-danger" >La cantidad debe ser mayor a 0</span>
           }
      </div>

        <div class="cointeinear-modifydirectcost__content--item">
        <label for="price">Costo</label>
        <input type="number" id="price" name="price" formControlName="price" >
         @if(price?.errors?.['required'] && price?.touched ){
             <span class="alert text-danger" >El costo es obligatorio</span>
           }
           @if( price?.errors?.['pattern'] ){
             <span class="alert text-danger" >El costo debe ser un número válido (ej: 123.45)</span>
           }
           @if( price?.errors?.['min'] ){
             <span class="alert text-danger" >El costo debe ser mayor a 0</span>
           }
      </div>

      <div class="cointeinear-modifydirectcost__content--item">
        <label for="categories_indirect_costs_id">Categoría</label>
          <select id="categories_indirect_costs_id" name="categories_indirect_costs_id" formControlName="categories_indirect_costs_id" >
            <option value="" disabled selected>Seleccione una categoría</option>
            @for (item of categoriesIndirectCosts(); track $index) {
                <option [value]="item.id" >{{item.name}}</option>
            }

          </select>
        
      </div>

    </div>


      <div class="cointeinear-modifydirectcost__btn">
        <button type="button"  class="btn btn-success btn2" (click)="newInDirectCost()"  [disabled]="!inDirectCostFormNew.valid" >Crear</button>
       <button type="button"  class="btn btn-danger btn3" (click)="goBack()" >Cancelar</button>
      </div>

    </form>


  }@placeholder {
    <app-spiner-pages/>
  }

</div>

